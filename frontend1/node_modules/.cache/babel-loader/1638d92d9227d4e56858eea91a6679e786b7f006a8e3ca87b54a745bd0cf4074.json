{"ast":null,"code":"var _jsxFileName = \"D:\\\\SoftwareEngineering\\\\FinalProject\\\\frontend\\\\src\\\\pages\\\\AddCourseQuiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport './AddCourse.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddCourseQuiz = () => {\n  _s();\n  const {\n    courseId\n  } = useParams();\n  const navigate = useNavigate();\n  const [courseName, setCourseName] = useState('');\n  const [quiz, setQuiz] = useState([{\n    question: '',\n    options: ['', '', '', ''],\n    correctAnswer: ''\n  }]);\n  useEffect(() => {\n    const fetchCourse = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const res = await axios.get(`http://localhost:5000/api/courses/${courseId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCourseName(res.data.courseName);\n      } catch (err) {\n        toast.error(\"Failed to load course.\");\n      }\n    };\n    fetchCourse();\n  }, [courseId]);\n  const handleQuestionChange = (index, field, value) => {\n    const updated = [...quiz];\n    updated[index][field] = value;\n    setQuiz(updated);\n  };\n  const handleOptionChange = (qIndex, optIndex, value) => {\n    const updated = [...quiz];\n    updated[qIndex].options[optIndex] = value;\n    setQuiz(updated);\n  };\n  const addQuestion = () => {\n    setQuiz([...quiz, {\n      question: '',\n      options: ['', '', '', ''],\n      correctAnswer: ''\n    }]);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      console.log(\"üì§ Submitting quiz:\", quiz);\n      await axios.post(`http://localhost:5000/api/courses/${courseId}/add-quiz`, {\n        quiz\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success(\"Quiz added successfully!\");\n      navigate('/admin/view-courses');\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Failed to add quiz\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-course-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-course-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"add-course-title\",\n        children: [\"\\uD83D\\uDCDD Add Quiz for: \", courseName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), quiz.map((q, qIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-question-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Question\",\n          value: q.question,\n          onChange: e => handleQuestionChange(qIndex, 'question', e.target.value),\n          className: \"add-course-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), q.options.map((opt, optIndex) => /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: `Option ${optIndex + 1}`,\n          value: opt,\n          onChange: e => handleOptionChange(qIndex, optIndex, e.target.value),\n          className: \"add-course-input\",\n          required: true\n        }, optIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: q.correctAnswer,\n          onChange: e => handleQuestionChange(qIndex, 'correctAnswer', e.target.value),\n          className: \"add-course-input\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Correct Answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), q.options.map((opt, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt,\n            children: opt\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, qIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: addQuestion,\n        className: \"add-course-button\",\n        children: \"\\u2795 Add Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"add-course-button\",\n        children: \"\\u2705 Submit Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(AddCourseQuiz, \"frjdcwR6eXpKUx7ZfjzgsROlewk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AddCourseQuiz;\nexport default AddCourseQuiz;\nvar _c;\n$RefreshReg$(_c, \"AddCourseQuiz\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","toast","jsxDEV","_jsxDEV","AddCourseQuiz","_s","courseId","navigate","courseName","setCourseName","quiz","setQuiz","question","options","correctAnswer","fetchCourse","token","localStorage","getItem","res","get","headers","Authorization","data","err","error","handleQuestionChange","index","field","value","updated","handleOptionChange","qIndex","optIndex","addQuestion","handleSubmit","e","preventDefault","console","log","post","success","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","map","q","type","placeholder","onChange","target","required","opt","idx","onClick","_c","$RefreshReg$"],"sources":["D:/SoftwareEngineering/FinalProject/frontend/src/pages/AddCourseQuiz.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport './AddCourse.css';\r\n\r\nconst AddCourseQuiz = () => {\r\n  const { courseId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [courseName, setCourseName] = useState('');\r\n  const [quiz, setQuiz] = useState([\r\n    { question: '', options: ['', '', '', ''], correctAnswer: '' }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const fetchCourse = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const res = await axios.get(`http://localhost:5000/api/courses/${courseId}`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setCourseName(res.data.courseName);\r\n      } catch (err) {\r\n        toast.error(\"Failed to load course.\");\r\n      }\r\n    };\r\n    fetchCourse();\r\n  }, [courseId]);\r\n\r\n  const handleQuestionChange = (index, field, value) => {\r\n    const updated = [...quiz];\r\n    updated[index][field] = value;\r\n    setQuiz(updated);\r\n  };\r\n\r\n  const handleOptionChange = (qIndex, optIndex, value) => {\r\n    const updated = [...quiz];\r\n    updated[qIndex].options[optIndex] = value;\r\n    setQuiz(updated);\r\n  };\r\n\r\n  const addQuestion = () => {\r\n    setQuiz([...quiz, { question: '', options: ['', '', '', ''], correctAnswer: '' }]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log(\"üì§ Submitting quiz:\", quiz);\r\n      await axios.post(`http://localhost:5000/api/courses/${courseId}/add-quiz`, { quiz }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      toast.success(\"Quiz added successfully!\");\r\n      navigate('/admin/view-courses');\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Failed to add quiz\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-course-container\">\r\n      <form onSubmit={handleSubmit} className=\"add-course-form\">\r\n        <h2 className=\"add-course-title\">üìù Add Quiz for: {courseName}</h2>\r\n\r\n        {quiz.map((q, qIndex) => (\r\n          <div key={qIndex} className=\"quiz-question-block\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Question\"\r\n              value={q.question}\r\n              onChange={(e) => handleQuestionChange(qIndex, 'question', e.target.value)}\r\n              className=\"add-course-input\"\r\n              required\r\n            />\r\n\r\n            {q.options.map((opt, optIndex) => (\r\n              <input\r\n                key={optIndex}\r\n                type=\"text\"\r\n                placeholder={`Option ${optIndex + 1}`}\r\n                value={opt}\r\n                onChange={(e) => handleOptionChange(qIndex, optIndex, e.target.value)}\r\n                className=\"add-course-input\"\r\n                required\r\n              />\r\n            ))}\r\n\r\n            <select\r\n              value={q.correctAnswer}\r\n              onChange={(e) => handleQuestionChange(qIndex, 'correctAnswer', e.target.value)}\r\n              className=\"add-course-input\"\r\n              required\r\n            >\r\n              <option value=\"\">Select Correct Answer</option>\r\n              {q.options.map((opt, idx) => (\r\n                <option key={idx} value={opt}>{opt}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        ))}\r\n\r\n        <button type=\"button\" onClick={addQuestion} className=\"add-course-button\">‚ûï Add Question</button>\r\n        <button type=\"submit\" className=\"add-course-button\">‚úÖ Submit Quiz</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCourseQuiz;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAS,CAAC,GAAGR,SAAS,CAAC,CAAC;EAChC,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,CAC/B;IAAEgB,QAAQ,EAAE,EAAE;IAAEC,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAAEC,aAAa,EAAE;EAAG,CAAC,CAC/D,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACd,MAAMkB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,GAAG,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,qCAAqCd,QAAQ,EAAE,EAAE;UAC3Ee,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QACFP,aAAa,CAACU,GAAG,CAACI,IAAI,CAACf,UAAU,CAAC;MACpC,CAAC,CAAC,OAAOgB,GAAG,EAAE;QACZvB,KAAK,CAACwB,KAAK,CAAC,wBAAwB,CAAC;MACvC;IACF,CAAC;IACDV,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACT,QAAQ,CAAC,CAAC;EAEd,MAAMoB,oBAAoB,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;IACpD,MAAMC,OAAO,GAAG,CAAC,GAAGpB,IAAI,CAAC;IACzBoB,OAAO,CAACH,KAAK,CAAC,CAACC,KAAK,CAAC,GAAGC,KAAK;IAC7BlB,OAAO,CAACmB,OAAO,CAAC;EAClB,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAACC,MAAM,EAAEC,QAAQ,EAAEJ,KAAK,KAAK;IACtD,MAAMC,OAAO,GAAG,CAAC,GAAGpB,IAAI,CAAC;IACzBoB,OAAO,CAACE,MAAM,CAAC,CAACnB,OAAO,CAACoB,QAAQ,CAAC,GAAGJ,KAAK;IACzClB,OAAO,CAACmB,OAAO,CAAC;EAClB,CAAC;EAED,MAAMI,WAAW,GAAGA,CAAA,KAAM;IACxBvB,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;MAAEE,QAAQ,EAAE,EAAE;MAAEC,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAAEC,aAAa,EAAE;IAAG,CAAC,CAAC,CAAC;EACpF,CAAC;EAED,MAAMqB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMrB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3CoB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE7B,IAAI,CAAC;MACxC,MAAMV,KAAK,CAACwC,IAAI,CAAC,qCAAqClC,QAAQ,WAAW,EAAE;QAAEI;MAAK,CAAC,EAAE;QACnFW,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CAAC,CAAC;MAEFf,KAAK,CAACwC,OAAO,CAAC,0BAA0B,CAAC;MACzClC,QAAQ,CAAC,qBAAqB,CAAC;IACjC,CAAC,CAAC,OAAOiB,GAAG,EAAE;MACZc,OAAO,CAACb,KAAK,CAACD,GAAG,CAAC;MAClBvB,KAAK,CAACwB,KAAK,CAAC,oBAAoB,CAAC;IACnC;EACF,CAAC;EAED,oBACEtB,OAAA;IAAKuC,SAAS,EAAC,sBAAsB;IAAAC,QAAA,eACnCxC,OAAA;MAAMyC,QAAQ,EAAET,YAAa;MAACO,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBACvDxC,OAAA;QAAIuC,SAAS,EAAC,kBAAkB;QAAAC,QAAA,GAAC,6BAAiB,EAACnC,UAAU;MAAA;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAElEtC,IAAI,CAACuC,GAAG,CAAC,CAACC,CAAC,EAAElB,MAAM,kBAClB7B,OAAA;QAAkBuC,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAC/CxC,OAAA;UACEgD,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,UAAU;UACtBvB,KAAK,EAAEqB,CAAC,CAACtC,QAAS;UAClByC,QAAQ,EAAGjB,CAAC,IAAKV,oBAAoB,CAACM,MAAM,EAAE,UAAU,EAAEI,CAAC,CAACkB,MAAM,CAACzB,KAAK,CAAE;UAC1Ea,SAAS,EAAC,kBAAkB;UAC5Ba,QAAQ;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,EAEDE,CAAC,CAACrC,OAAO,CAACoC,GAAG,CAAC,CAACO,GAAG,EAAEvB,QAAQ,kBAC3B9B,OAAA;UAEEgD,IAAI,EAAC,MAAM;UACXC,WAAW,EAAE,UAAUnB,QAAQ,GAAG,CAAC,EAAG;UACtCJ,KAAK,EAAE2B,GAAI;UACXH,QAAQ,EAAGjB,CAAC,IAAKL,kBAAkB,CAACC,MAAM,EAAEC,QAAQ,EAAEG,CAAC,CAACkB,MAAM,CAACzB,KAAK,CAAE;UACtEa,SAAS,EAAC,kBAAkB;UAC5Ba,QAAQ;QAAA,GANHtB,QAAQ;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAOd,CACF,CAAC,eAEF7C,OAAA;UACE0B,KAAK,EAAEqB,CAAC,CAACpC,aAAc;UACvBuC,QAAQ,EAAGjB,CAAC,IAAKV,oBAAoB,CAACM,MAAM,EAAE,eAAe,EAAEI,CAAC,CAACkB,MAAM,CAACzB,KAAK,CAAE;UAC/Ea,SAAS,EAAC,kBAAkB;UAC5Ba,QAAQ;UAAAZ,QAAA,gBAERxC,OAAA;YAAQ0B,KAAK,EAAC,EAAE;YAAAc,QAAA,EAAC;UAAqB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC9CE,CAAC,CAACrC,OAAO,CAACoC,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,kBACtBtD,OAAA;YAAkB0B,KAAK,EAAE2B,GAAI;YAAAb,QAAA,EAAEa;UAAG,GAArBC,GAAG;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2B,CAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA,GAhCDhB,MAAM;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAiCX,CACN,CAAC,eAEF7C,OAAA;QAAQgD,IAAI,EAAC,QAAQ;QAACO,OAAO,EAAExB,WAAY;QAACQ,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACjG7C,OAAA;QAAQgD,IAAI,EAAC,QAAQ;QAACT,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAC3C,EAAA,CAxGID,aAAa;EAAA,QACIN,SAAS,EACbC,WAAW;AAAA;AAAA4D,EAAA,GAFxBvD,aAAa;AA0GnB,eAAeA,aAAa;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}